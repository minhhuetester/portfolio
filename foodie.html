<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foodie memories</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .gallery-item {
            position: relative;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .gallery-media {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }
        
        .image-info {
            padding: 15px;
            text-align: center;
        }
        
        .image-info h3 {
            margin: 0 0 8px 0;
            color: #333;
            font-size: 16px;
        }
        
        .image-info p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }

        /* Video indicator */
        .video-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            z-index: 1;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            overflow: auto;
        }

        .modal-content {
            display: none;
            margin: auto;
            max-width: 90%;
            max-height: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #modalVideo {
            display: none;
            max-width: 90%;
            max-height: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            outline: none;
        }

        #caption {
            position: fixed;
            bottom: 20px;
            left: 0;
            right: 0;
            margin: auto;
            color: #fff;
            text-align: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1002;
        }

        .close:hover {
            color: #bbb;
        }

        /* Navigation arrows */
        #nav-arrows {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1001;
        }

        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 40px;
            color: white;
            cursor: pointer;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            pointer-events: auto;
            transition: background-color 0.3s;
            user-select: none;
        }

        .arrow:hover {
            background-color: rgba(0, 0, 0, 0.6);
        }

        .left-arrow {
            left: 20px;
        }

        .right-arrow {
            right: 20px;
        }
    </style>
</head>
<body>
    <h1>Foodie memories</h1>
    
    <div class="gallery" id="imageGallery">
        <!-- Media will be loaded here by JavaScript -->
    </div>

    <!-- Modal for full-size media -->
    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImage">
        <video class="modal-content" id="modalVideo" controls></video>
        <div id="caption"></div>
    </div>

    <!-- Navigation arrows -->
    <div id="nav-arrows" style="display:none;">
        <div class="arrow left-arrow">❮</div>
        <div class="arrow right-arrow">❯</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const gallery = document.getElementById('imageGallery');
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const modalVideo = document.getElementById('modalVideo');
            const captionText = document.getElementById('caption');
            const closeBtn = document.querySelector('.close');
            const leftArrow = document.querySelector('.left-arrow');
            const rightArrow = document.querySelector('.right-arrow');
            const navArrows = document.getElementById('nav-arrows');
            
            const mediaData= 
            //Add more image
            [...Array.from({length: 36}).map((_, i) => {
                return {
                    type: 'image',
                    src: `./images_food/${i+1}.jpg`,
                    alt: `Image ${i+1}`
                }
            }),
]

            let currentMediaIndex = 0;

            // Close modal when clicking the close button
            closeBtn.onclick = closeModal;

            // Close modal when clicking outside the media
            window.onclick = function(event) {
                if (event.target == modal) {
                    closeModal();
                }
            };

            // Handle keyboard navigation
            document.addEventListener('keydown', function(event) {
                if (modal.style.display === "block") {
                    if (event.key === "Escape") {
                        closeModal();
                    } else if (event.key === "ArrowLeft") {
                        navigate(-1);
                    } else if (event.key === "ArrowRight") {
                        navigate(1);
                    }
                }
            });

            // Navigation function
            function navigate(direction) {
                // Pause video if playing
                if (!modalVideo.paused) {
                    modalVideo.pause();
                }
                
                currentMediaIndex = (currentMediaIndex + direction + mediaData.length) % mediaData.length;
                updateModalContent();
            }

            // Update modal with current media
            function updateModalContent() {
                const media = mediaData[currentMediaIndex];
                
                // Hide all media first
                modalImg.style.display = 'none';
                modalVideo.style.display = 'none';
                
                if (media.type === 'video') {
                    modalVideo.src = media.src;
                    modalVideo.style.display = 'block';
                    modalVideo.play().catch(e => console.log('Video play failed:', e));
                } else {
                    modalImg.src = media.src;
                    modalImg.style.display = 'block';
                }
                
                captionText.textContent = media.alt;
            }

            // Close modal and clean up
            function closeModal() {
                modal.style.display = "none";
                navArrows.style.display = 'none';
                if (!modalVideo.paused) {
                    modalVideo.pause();
                }
            }

            // Create gallery items
            mediaData.forEach((media, index) => {
                const mediaItem = document.createElement('div');
                mediaItem.className = 'gallery-item';
                
                if (media.type === 'image') {
                    mediaItem.innerHTML = `
                        <img src="${media.src}" alt="${media.alt}" class="gallery-media">
                        <div class="image-info">
                            <h3>${media.alt}</h3>
                        </div>
                    `;
                } else {
                    mediaItem.innerHTML = `
                        <video class="gallery-media" src="${media.src}"></video>
                        <div class="video-indicator">▶</div>
                        <div class="image-info">
                            <h3>${media.alt}</h3>
                        </div>
                    `;
                }
                
                mediaItem.onclick = function() {
                    currentMediaIndex = index;
                    modal.style.display = "block";
                    navArrows.style.display = 'block';
                    updateModalContent();
                };
                
                gallery.appendChild(mediaItem);
            });

            // Add click events to navigation arrows
            leftArrow.onclick = function(e) {
                e.stopPropagation();
                navigate(-1);
            };

            rightArrow.onclick = function(e) {
                e.stopPropagation();
                navigate(1);
            };
        });
    </script>
</body>
</html>